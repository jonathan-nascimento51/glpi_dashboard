[tool.commitizen]
name = "cz_conventional_commits"
version = "1.0.0"
tag_format = "v$version"
version_files = [
    "backend/setup.py",
    "frontend/package.json",
    "VERSION"
]
style = [
    ["qmark", "fg:#ff9d00 bold"],
    ["question", "bold"],
    ["answer", "fg:#ff9d00 bold"],
    ["pointer", "fg:#ff9d00 bold"],
    ["highlighted", "fg:#ff9d00 bold"],
    ["selected", "fg:#cc5454"],
    ["separator", "fg:#cc5454"],
    ["instruction", ""],
    ["text", ""],
    ["disabled", "fg:#858585 italic"]
]

[tool.commitizen.settings]
use_shortcuts = true

# ConfiguraÃ§Ã£o personalizada para tipos de commit
[tool.commitizen.customize]
commit_parser = "^(?P<change_type>feat|fix|docs|style|refactor|perf|test|build|ci|chore|revert)(?:\((?P<scope>[^()
]*)\)|\()?(?P<breaking>!)?:\s(?P<message>.*)?"
version_parser = "(?P<version>([0-9]+)\.([0-9]+)\.([0-9]+)(?:-([0-9A-Za-z-]+(?:\.[0-9A-Za-z-]+)*))?(?:\+[0-9A-Za-z-]+)?)"
change_type_order = ["BREAKING CHANGE", "feat", "fix", "refactor", "perf"]

# Template para changelog
changelog_pattern = "^(feat|fix|docs|style|refactor|perf|test|build|ci|chore|revert)(\(.+\))?(!)?:"
changelog_start_rev = "v1.0.0"
changelog_merge_prerelease = true

# ConfiguraÃ§Ã£o de tipos de commit
[[tool.commitizen.customize.questions]]
type = "list"
name = "change_type"
message = "Selecione o tipo de mudanÃ§a que vocÃª estÃ¡ commitando:"
choices = [
    {value = "feat", name = "feat: âœ¨ Uma nova funcionalidade"},
    {value = "fix", name = "fix: ğŸ› CorreÃ§Ã£o de bug"},
    {value = "docs", name = "docs: ğŸ“š MudanÃ§as na documentaÃ§Ã£o"},
    {value = "style", name = "style: ğŸ’ MudanÃ§as que nÃ£o afetam o significado do cÃ³digo (espaÃ§os, formataÃ§Ã£o, etc)"},
    {value = "refactor", name = "refactor: ğŸ“¦ MudanÃ§a de cÃ³digo que nÃ£o corrige bug nem adiciona funcionalidade"},
    {value = "perf", name = "perf: ğŸš€ MudanÃ§a de cÃ³digo que melhora performance"},
    {value = "test", name = "test: ğŸš¨ AdiÃ§Ã£o ou correÃ§Ã£o de testes"},
    {value = "build", name = "build: ğŸ› ï¸ MudanÃ§as que afetam o sistema de build ou dependÃªncias externas"},
    {value = "ci", name = "ci: âš™ï¸ MudanÃ§as nos arquivos e scripts de configuraÃ§Ã£o de CI"},
    {value = "chore", name = "chore: â™»ï¸ Outras mudanÃ§as que nÃ£o modificam src ou arquivos de teste"},
    {value = "revert", name = "revert: ğŸ—‘ï¸ Reverte um commit anterior"}
]

[[tool.commitizen.customize.questions]]
type = "input"
name = "scope"
message = "Qual Ã© o escopo desta mudanÃ§a (ex: auth, api, ui)? (opcional):"

[[tool.commitizen.customize.questions]]
type = "input"
name = "subject"
message = "Escreva uma descriÃ§Ã£o curta e imperativa da mudanÃ§a (mÃ¡x 50 chars):\n"
filter = "lower"

[[tool.commitizen.customize.questions]]
type = "input"
name = "body"
message = "ForneÃ§a uma descriÃ§Ã£o mais longa da mudanÃ§a (opcional). Use '|' para quebras de linha:\n"

[[tool.commitizen.customize.questions]]
type = "confirm"
name = "is_breaking_change"
message = "Esta mudanÃ§a quebra compatibilidade com versÃµes anteriores?"
default = false

[[tool.commitizen.customize.questions]]
type = "input"
name = "breaking_change_description"
message = "Descreva a mudanÃ§a que quebra compatibilidade:\n"
when = "{{ answers.is_breaking_change }}"

[[tool.commitizen.customize.questions]]
type = "input"
name = "footer"
message = "InformaÃ§Ãµes de rodapÃ© (ex: issues fechadas). Use '|' para quebras de linha:\n"

# Template da mensagem de commit
[tool.commitizen.customize.commit_parser]
pattern = "^(?P<change_type>feat|fix|docs|style|refactor|perf|test|build|ci|chore|revert)(?:\((?P<scope>[^()
]*)\)|\()?(?P<breaking>!)?:\s(?P<message>.*)?"

[tool.commitizen.customize.info_path]
path = "cz_customize_info.txt"

[tool.commitizen.customize.info]
"""
Este Ã© um projeto que usa Conventional Commits.

Formato: <tipo>[escopo opcional]: <descriÃ§Ã£o>

Exemplos:
- feat(auth): adicionar autenticaÃ§Ã£o OAuth
- fix(api): corrigir erro de timeout na API GLPI
- docs: atualizar README com instruÃ§Ãµes de instalaÃ§Ã£o
- test(dashboard): adicionar testes para mÃ©tricas

Tipos disponÃ­veis:
- feat: nova funcionalidade
- fix: correÃ§Ã£o de bug
- docs: documentaÃ§Ã£o
- style: formataÃ§Ã£o
- refactor: refatoraÃ§Ã£o
- perf: melhoria de performance
- test: testes
- build: build/dependÃªncias
- ci: integraÃ§Ã£o contÃ­nua
- chore: tarefas de manutenÃ§Ã£o
- revert: reverter commit

Escopos sugeridos:
- auth: autenticaÃ§Ã£o
- api: endpoints da API
- ui: interface do usuÃ¡rio
- dashboard: funcionalidades do dashboard
- glpi: integraÃ§Ã£o com GLPI
- cache: sistema de cache
- db: banco de dados
- config: configuraÃ§Ãµes
- test: testes
- ci: CI/CD
- docs: documentaÃ§Ã£o
"""

# Template para mensagem de commit
[tool.commitizen.customize.message_template]
template = """{% if answers.scope %}{{answers.change_type}}({{answers.scope}}){% else %}{{answers.change_type}}{% endif %}{% if answers.is_breaking_change %}!{% endif %}: {{answers.subject}}
{% if answers.body %}
{{answers.body}}
{% endif %}
{% if answers.is_breaking_change %}
BREAKING CHANGE: {{answers.breaking_change_description}}
{% endif %}
{% if answers.footer %}
{{answers.footer}}
{% endif %}"""

# ConfiguraÃ§Ã£o de bump de versÃ£o
[tool.commitizen.customize.bump_pattern]
pattern = "^(feat|fix|refactor|perf|BREAKING CHANGE)"

[tool.commitizen.customize.bump_map]
"BREAKING CHANGE" = "MAJOR"
"feat" = "MINOR"
"fix" = "PATCH"
"refactor" = "PATCH"
"perf" = "PATCH"

# ConfiguraÃ§Ã£o de changelog
[tool.commitizen.customize.change_type_map]
"feat" = "âœ¨ Features"
"fix" = "ğŸ› Bug Fixes"
"refactor" = "ğŸ“¦ Code Refactoring"
"perf" = "ğŸš€ Performance Improvements"
"docs" = "ğŸ“š Documentation"
"style" = "ğŸ’ Styles"
"test" = "ğŸš¨ Tests"
"build" = "ğŸ› ï¸ Build System"
"ci" = "âš™ï¸ Continuous Integration"
"chore" = "â™»ï¸ Chores"
"revert" = "ğŸ—‘ï¸ Reverts"