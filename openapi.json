{"openapi":"3.1.0","info":{"title":"GLPI Dashboard API","description":"API para fornecer dados de KPIs do GLPI para um dashboard.","contact":{"name":"API Support","url":"http://example.com/contact","email":"support@example.com"},"license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0.html"},"version":"1.0.0"},"paths":{"/api/v1/kpis":{"get":{"tags":["v1","Dashboard"],"summary":"Obtém os principais indicadores de desempenho (KPIs)","description":"Retorna uma visão geral dos KPIs de tickets, divididos por nível e com tendências.","operationId":"get_kpis_api_v1_kpis_get","parameters":[{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Data de início (YYYY-MM-DD) para filtrar os KPIs.","title":"Start Date"},"description":"Data de início (YYYY-MM-DD) para filtrar os KPIs."},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Data de fim (YYYY-MM-DD) para filtrar os KPIs.","title":"End Date"},"description":"Data de fim (YYYY-MM-DD) para filtrar os KPIs."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_KpiResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/hexagonal/kpis":{"get":{"tags":["Hexagonal"],"summary":"Get Kpis","description":"Endpoint para buscar KPIs do dashboard - HOTFIX: dados mock simples.\n\nRetorna um payload mínimo e estável, sem qualquer dependência de GLPI\nou módulos auxiliares para evitar erros 500 por efeitos colaterais.\n\nExemplo de resposta:\n{\n  \"success\": true,\n  \"message\": \"KPIs mockados (hexagonal)\",\n  \"data\": {\n    \"niveis\": {\n      \"geral\": {\"novos\": 45, \"progresso\": 23, \"pendentes\": 12, \"resolvidos\": 156, \"total\": 236}\n    },\n    \"tendencias\": {\"novos\": \"+12.5%\"}\n  }\n}","operationId":"get_kpis_hexagonal_kpis_get","parameters":[{"name":"force_refresh","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"default":false,"title":"Force Refresh"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_KpiResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"tags":["Monitoring"],"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"ApiResponse_KpiResponse_":{"properties":{"success":{"type":"boolean","title":"Success","description":"Indica se a operação foi bem-sucedida"},"message":{"type":"string","title":"Message","description":"Mensagem descritiva sobre o resultado"},"data":{"anyOf":[{"$ref":"#/components/schemas/KpiResponse"},{"type":"null"}],"description":"Os dados retornados pela API"},"errors":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Errors","description":"Lista de erros, se houver"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp","description":"Timestamp da resposta"}},"type":"object","required":["success","message"],"title":"ApiResponse[KpiResponse]"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"KpiLevels":{"properties":{"geral":{"$ref":"#/components/schemas/TicketCounts"},"n1":{"$ref":"#/components/schemas/TicketCounts"},"n2":{"$ref":"#/components/schemas/TicketCounts"},"n3":{"$ref":"#/components/schemas/TicketCounts"},"n4":{"$ref":"#/components/schemas/TicketCounts"}},"type":"object","required":["geral","n1","n2","n3","n4"],"title":"KpiLevels"},"KpiResponse":{"properties":{"niveis":{"$ref":"#/components/schemas/KpiLevels"},"tendencias":{"$ref":"#/components/schemas/KpiTrends"}},"type":"object","required":["niveis","tendencias"],"title":"KpiResponse"},"KpiTrends":{"properties":{"novos":{"type":"string","title":"Novos"},"pendentes":{"type":"string","title":"Pendentes"},"progresso":{"type":"string","title":"Progresso"},"resolvidos":{"type":"string","title":"Resolvidos"}},"type":"object","required":["novos","pendentes","progresso","resolvidos"],"title":"KpiTrends"},"TicketCounts":{"properties":{"novos":{"type":"integer","title":"Novos"},"progresso":{"type":"integer","title":"Progresso"},"pendentes":{"type":"integer","title":"Pendentes"},"resolvidos":{"type":"integer","title":"Resolvidos"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["novos","progresso","pendentes","resolvidos","total"],"title":"TicketCounts"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}