{
  "dashboard": {
    "id": null,
    "title": "GLPI Dashboard - Advanced Monitoring",
    "tags": ["glpi", "monitoring", "devsecops"],
    "style": "dark",
    "timezone": "browser",
    "refresh": "30s",
    "schemaVersion": 30,
    "version": 1,
    "time": {
      "from": "now-1h",
      "to": "now"
    },
    "timepicker": {
      "refresh_intervals": ["5s", "10s", "30s", "1m", "5m", "15m", "30m", "1h", "2h", "1d"]
    },
    "templating": {
      "list": [
        {
          "name": "instance",
          "type": "query",
          "query": "label_values(up, instance)",
          "refresh": 1,
          "includeAll": true,
          "allValue": ".*",
          "multi": true
        }
      ]
    },
    "annotations": {
      "list": [
        {
          "name": "Deployments",
          "datasource": "Prometheus",
          "enable": true,
          "expr": "increase(deployment_timestamp[1m])",
          "iconColor": "green",
          "titleFormat": "Deployment"
        },
        {
          "name": "Incidents",
          "datasource": "Prometheus",
          "enable": true,
          "expr": "increase(incident_created[1m])",
          "iconColor": "red",
          "titleFormat": "Incident"
        }
      ]
    },
    "panels": [
      {
        "id": 1,
        "title": "System Overview",
        "type": "row",
        "collapsed": false,
        "gridPos": {"h": 1, "w": 24, "x": 0, "y": 0}
      },
      {
        "id": 2,
        "title": "CPU Usage",
        "type": "stat",
        "targets": [
          {
            "expr": "system_cpu_usage_percent{instance=~\"$instance\"}",
            "legendFormat": "CPU %"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "thresholds": {
              "steps": [
                {"color": "green", "value": null},
                {"color": "yellow", "value": 70},
                {"color": "red", "value": 85}
              ]
            },
            "unit": "percent",
            "min": 0,
            "max": 100
          }
        },
        "gridPos": {"h": 8, "w": 6, "x": 0, "y": 1}
      },
      {
        "id": 3,
        "title": "Memory Usage",
        "type": "stat",
        "targets": [
          {
            "expr": "system_memory_usage_percent{instance=~\"$instance\"}",
            "legendFormat": "Memory %"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "thresholds": {
              "steps": [
                {"color": "green", "value": null},
                {"color": "yellow", "value": 75},
                {"color": "red", "value": 90}
              ]
            },
            "unit": "percent",
            "min": 0,
            "max": 100
          }
        },
        "gridPos": {"h": 8, "w": 6, "x": 6, "y": 1}
      },
      {
        "id": 4,
        "title": "Disk Usage",
        "type": "stat",
        "targets": [
          {
            "expr": "system_disk_usage_percent{instance=~\"$instance\"}",
            "legendFormat": "Disk %"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "thresholds": {
              "steps": [
                {"color": "green", "value": null},
                {"color": "yellow", "value": 80},
                {"color": "red", "value": 95}
              ]
            },
            "unit": "percent",
            "min": 0,
            "max": 100
          }
        },
        "gridPos": {"h": 8, "w": 6, "x": 12, "y": 1}
      },
      {
        "id": 5,
        "title": "System Load",
        "type": "timeseries",
        "targets": [
          {
            "expr": "system_load_average_1m{instance=~\"$instance\"}",
            "legendFormat": "1m"
          },
          {
            "expr": "system_load_average_5m{instance=~\"$instance\"}",
            "legendFormat": "5m"
          },
          {
            "expr": "system_load_average_15m{instance=~\"$instance\"}",
            "legendFormat": "15m"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "unit": "short"
          }
        },
        "gridPos": {"h": 8, "w": 6, "x": 18, "y": 1}
      },
      {
        "id": 6,
        "title": "Application Metrics",
        "type": "row",
        "collapsed": false,
        "gridPos": {"h": 1, "w": 24, "x": 0, "y": 9}
      },
      {
        "id": 7,
        "title": "Response Time",
        "type": "timeseries",
        "targets": [
          {
            "expr": "histogram_quantile(0.50, rate(http_request_duration_seconds_bucket{instance=~\"$instance\"}[5m]))",
            "legendFormat": "P50"
          },
          {
            "expr": "histogram_quantile(0.95, rate(http_request_duration_seconds_bucket{instance=~\"$instance\"}[5m]))",
            "legendFormat": "P95"
          },
          {
            "expr": "histogram_quantile(0.99, rate(http_request_duration_seconds_bucket{instance=~\"$instance\"}[5m]))",
            "legendFormat": "P99"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "unit": "s"
          }
        },
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 10}
      },
      {
        "id": 8,
        "title": "Request Rate",
        "type": "timeseries",
        "targets": [
          {
            "expr": "rate(http_requests_total{instance=~\"$instance\"}[5m])",
            "legendFormat": "{{method}} {{endpoint}}"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "unit": "reqps"
          }
        },
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 10}
      },
      {
        "id": 9,
        "title": "Error Rate",
        "type": "stat",
        "targets": [
          {
            "expr": "application_error_rate{instance=~\"$instance\"}",
            "legendFormat": "Error Rate"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "thresholds": {
              "steps": [
                {"color": "green", "value": null},
                {"color": "yellow", "value": 2},
                {"color": "red", "value": 5}
              ]
            },
            "unit": "percent"
          }
        },
        "gridPos": {"h": 4, "w": 6, "x": 0, "y": 18}
      },
      {
        "id": 10,
        "title": "Active Users",
        "type": "stat",
        "targets": [
          {
            "expr": "application_active_users{instance=~\"$instance\"}",
            "legendFormat": "Active Users"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "unit": "short"
          }
        },
        "gridPos": {"h": 4, "w": 6, "x": 6, "y": 18}
      },
      {
        "id": 11,
        "title": "Database Connections",
        "type": "stat",
        "targets": [
          {
            "expr": "application_database_connections{instance=~\"$instance\"}",
            "legendFormat": "DB Connections"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "thresholds": {
              "steps": [
                {"color": "green", "value": null},
                {"color": "yellow", "value": 40},
                {"color": "red", "value": 50}
              ]
            },
            "unit": "short"
          }
        },
        "gridPos": {"h": 4, "w": 6, "x": 12, "y": 18}
      },
      {
        "id": 12,
        "title": "Cache Hit Rate",
        "type": "stat",
        "targets": [
          {
            "expr": "application_cache_hit_rate{instance=~\"$instance\"}",
            "legendFormat": "Cache Hit Rate"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "thresholds": {
              "steps": [
                {"color": "red", "value": null},
                {"color": "yellow", "value": 70},
                {"color": "green", "value": 85}
              ]
            },
            "unit": "percent"
          }
        },
        "gridPos": {"h": 4, "w": 6, "x": 18, "y": 18}
      },
      {
        "id": 13,
        "title": "Security Metrics",
        "type": "row",
        "collapsed": false,
        "gridPos": {"h": 1, "w": 24, "x": 0, "y": 22}
      },
      {
        "id": 14,
        "title": "Failed Login Attempts",
        "type": "timeseries",
        "targets": [
          {
            "expr": "rate(security_failed_logins_total{instance=~\"$instance\"}[5m])",
            "legendFormat": "Failed Logins/sec"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "unit": "short"
          }
        },
        "gridPos": {"h": 8, "w": 8, "x": 0, "y": 23}
      },
      {
        "id": 15,
        "title": "Suspicious Requests",
        "type": "timeseries",
        "targets": [
          {
            "expr": "rate(security_suspicious_requests_total{instance=~\"$instance\"}[5m])",
            "legendFormat": "Suspicious Requests/sec"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "unit": "short"
          }
        },
        "gridPos": {"h": 8, "w": 8, "x": 8, "y": 23}
      },
      {
        "id": 16,
        "title": "Security Headers Score",
        "type": "stat",
        "targets": [
          {
            "expr": "security_headers_score{instance=~\"$instance\"}",
            "legendFormat": "Security Score"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "thresholds": {
              "steps": [
                {"color": "red", "value": null},
                {"color": "yellow", "value": 70},
                {"color": "green", "value": 85}
              ]
            },
            "unit": "short",
            "min": 0,
            "max": 100
          }
        },
        "gridPos": {"h": 8, "w": 8, "x": 16, "y": 23}
      },
      {
        "id": 17,
        "title": "Business Metrics",
        "type": "row",
        "collapsed": false,
        "gridPos": {"h": 1, "w": 24, "x": 0, "y": 31}
      },
      {
        "id": 18,
        "title": "Total Tickets",
        "type": "stat",
        "targets": [
          {
            "expr": "business_tickets_total{instance=~\"$instance\"}",
            "legendFormat": "Total Tickets"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "unit": "short"
          }
        },
        "gridPos": {"h": 8, "w": 6, "x": 0, "y": 32}
      },
      {
        "id": 19,
        "title": "Open Tickets",
        "type": "stat",
        "targets": [
          {
            "expr": "business_tickets_open{instance=~\"$instance\"}",
            "legendFormat": "Open Tickets"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "thresholds": {
              "steps": [
                {"color": "green", "value": null},
                {"color": "yellow", "value": 100},
                {"color": "red", "value": 200}
              ]
            },
            "unit": "short"
          }
        },
        "gridPos": {"h": 8, "w": 6, "x": 6, "y": 32}
      },
      {
        "id": 20,
        "title": "SLA Compliance",
        "type": "stat",
        "targets": [
          {
            "expr": "business_sla_compliance_percent{instance=~\"$instance\"}",
            "legendFormat": "SLA Compliance"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "thresholds": {
              "steps": [
                {"color": "red", "value": null},
                {"color": "yellow", "value": 90},
                {"color": "green", "value": 95}
              ]
            },
            "unit": "percent",
            "min": 0,
            "max": 100
          }
        },
        "gridPos": {"h": 8, "w": 6, "x": 12, "y": 32}
      },
      {
        "id": 21,
        "title": "Ticket Trends",
        "type": "timeseries",
        "targets": [
          {
            "expr": "business_tickets_total{instance=~\"$instance\"}",
            "legendFormat": "Total"
          },
          {
            "expr": "business_tickets_open{instance=~\"$instance\"}",
            "legendFormat": "Open"
          },
          {
            "expr": "business_tickets_resolved{instance=~\"$instance\"}",
            "legendFormat": "Resolved"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "unit": "short"
          }
        },
        "gridPos": {"h": 8, "w": 6, "x": 18, "y": 32}
      },
      {
        "id": 22,
        "title": "Alerts & Incidents",
        "type": "row",
        "collapsed": false,
        "gridPos": {"h": 1, "w": 24, "x": 0, "y": 40}
      },
      {
        "id": 23,
        "title": "Active Alerts",
        "type": "table",
        "targets": [
          {
            "expr": "ALERTS{instance=~\"$instance\", alertstate=\"firing\"}",
            "format": "table",
            "instant": true
          }
        ],
        "fieldConfig": {
          "defaults": {
            "custom": {
              "displayMode": "table",
              "filterable": true
            }
          },
          "overrides": [
            {
              "matcher": {"id": "byName", "options": "severity"},
              "properties": [
                {
                  "id": "custom.displayMode",
                  "value": "color-background"
                },
                {
                  "id": "color",
                  "value": {
                    "mode": "thresholds"
                  }
                },
                {
                  "id": "thresholds",
                  "value": {
                    "steps": [
                      {"color": "green", "value": null},
                      {"color": "yellow", "value": 1},
                      {"color": "red", "value": 2}
                    ]
                  }
                }
              ]
            }
          ]
        },
        "gridPos": {"h": 8, "w": 24, "x": 0, "y": 41}
      },
      {
        "id": 24,
        "title": "Infrastructure Health",
        "type": "row",
        "collapsed": false,
        "gridPos": {"h": 1, "w": 24, "x": 0, "y": 49}
      },
      {
        "id": 25,
        "title": "Service Uptime",
        "type": "stat",
        "targets": [
          {
            "expr": "avg_over_time(up{instance=~\"$instance\"}[24h]) * 100",
            "legendFormat": "Uptime %"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "thresholds": {
              "steps": [
                {"color": "red", "value": null},
                {"color": "yellow", "value": 99},
                {"color": "green", "value": 99.9}
              ]
            },
            "unit": "percent",
            "decimals": 2
          }
        },
        "gridPos": {"h": 4, "w": 6, "x": 0, "y": 50}
      },
      {
        "id": 26,
        "title": "Network I/O",
        "type": "timeseries",
        "targets": [
          {
            "expr": "rate(node_network_receive_bytes_total{instance=~\"$instance\"}[5m])",
            "legendFormat": "RX {{device}}"
          },
          {
            "expr": "rate(node_network_transmit_bytes_total{instance=~\"$instance\"}[5m])",
            "legendFormat": "TX {{device}}"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "unit": "Bps"
          }
        },
        "gridPos": {"h": 8, "w": 18, "x": 6, "y": 50}
      }
    ]
  }
}